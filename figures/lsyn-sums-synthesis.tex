\begin{figure}
  \begin{center}
    \begin{gather*}
      \fbox{$Γ ⊢ τ ▷ Χ ⇝ I$} \qquad
        \inferrule[irefine-sum-inl]
          {Γ ⊢ τ_1 ▷ \many{σ_i ↦ χ_i}{i < n} ⇝ I}
          {Γ ⊢ τ_1 + τ_2 ▷ \many{σ_i ↦ \minl[τ_1 + τ_2]{χ_i}}{i < n} ⇝ \minl[τ_1 + τ_2]{I}} \\
        \inferrule[irefine-sum-inr]
          {Γ ⊢ τ_2 ▷ \many{σ_i ↦ χ_i}{i < n} ⇝ I}
          {Γ ⊢ τ_1 + τ_2 ▷ \many{σ_i ↦ \minr[τ_1 + τ_2]{χ_i}}{i < n} ⇝ \minl[τ_1 + τ_2]{I}} \\
        \inferrule[irefine-match]
          {Γ ⊢ τ_1 + τ_2 ⇝ E \\\\
           \mfun{distribute}(E, Χ) = (Χ_l, Χ_r) \\\\
           x_1{:}τ_1, Γ ⊢ τ ▷ Χ_l ⇝ I_1 \\ x_2{:}τ_2, Γ ⊢ τ ▷ Χ_r ⇝ I_2}
          {Γ ⊢ τ ▷ Χ ⇝ \mmatch\;E\;\mwith\;\minl{x_1} → I_1 \semisep \minr{x_2} → I_2} \\
      \fbox{$v ≃ χ$} \qquad
        \inferrule[eq-inl]
          {v ≃ χ}
          {\minl[τ_1 + τ_2]{v} ≃ \minl[τ_1 + τ_2]{χ}} \qquad
        \inferrule[eq-inr]
          {v ≃ χ}
          {\minr[τ_1 + τ_2]{v} ≃ \minr[τ_1 + τ_2]{χ}}
    \end{gather*}
    \[
      \begin{array}{l}
        \mfun{distribute}(E, Χ) = (X_l, X_r) \\
        \quad \textrm{where} \\
        \qquad X_l = \{[v/x_1]σ ↦ χ \bnfalt σ ↦ χ ∈ Χ ∧ σ(E) ⟶^* \minl[τ_1 + τ_2]{v}\} \\
        \qquad X_r = \{[v/x_2]σ ↦ χ \bnfalt σ ↦ χ ∈ Χ ∧ σ(E) ⟶^* \minr[τ_1 + τ_2]{v}\}
      \end{array}
    \]
  \end{center}
  \hrule
  \caption{\lsyn{} sums: synthesis rules}
  \label{fig:lsyn-sums-synthesis}
\end{figure}
